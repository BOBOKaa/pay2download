{"version":3,"sources":["utils/sign.js","assets/connect-button.png","webpages/home.js","assets/card-background.png","assets/button.png","webpages/sellMyFiles.js","utils/constants.js","webpages/browserFiles/firstStep.js","assets/button_sec.png","assets/button_orange.png","utils/encrypt.js","webpages/browserFiles/secondStep.js","webpages/browserFiles/index.js","webpages/myAccount/index.js","assets/claim_btn.png","assets/claim_history.png","webpages/buyFiles/index.js","redux/actions/AccountActions.js","components/Header.js","assets/button_third.png","assets/logo.png","components/Layout.js","assets/footer.png","webpages/index.js","redux/reducers/AccountReducer.js","redux/reducers/RootReducer.js","redux/Store.js","utils/mock-db/mock.js","utils/mock-db/db/sellItem.js","utils/mock-db/index.js","App.js","reportWebVitals.js","index.js"],"names":["sign","data","account","msg","Buffer","from","toString","window","ethereum","request","params","method","then","signature","console","info","Promise","reject","Home","history","useHistory","React","useState","web3","setWeb3","isMetaMask","setIsMetaMask","address","setAddress","useEffect","localStorage","getItem","res","length","push","catch","error","connectMetaMask","a","web3Obj","Web3","enable","setItem","provider","providers","HttpProvider","style","textAlign","paddingTop","src","connectButton","width","cursor","alt","onClick","href","target","rel","useStyles","makeStyles","theme","container","margin","height","card","backgroundImage","cardImg","backgroundRepeat","backgroundSize","display","justifyContent","alignItems","imgButton","buttonImg","fontSize","color","fontWeight","textTransform","SellMyFiles","classes","className","Button","UPLOAD_TYPE_FILE","addMoreButton","marginRight","marginLeft","continueButton","fileDragAndDrop","position","top","left","StyledMenu","styled","props","Menu","elevation","anchorOrigin","vertical","horizontal","transformOrigin","borderRadius","marginTop","spacing","palette","mode","grey","boxShadow","padding","text","secondary","backgroundColor","alpha","primary","main","action","selectedOpacity","FirstStep","isUpdate","setIsUpdate","typeErrorMessage","setTypeErrorMessage","hiddenFileInput","useRef","hiddenFolderInput","hiddenMoreFileInput","anchorEl","setAnchorEl","menuOpen","Boolean","setSizeErrorMessage","fileList","setFileList","step","setStep","handleClick","type","current","click","handleChange","event","fileArr","Object","keys","files","forEach","key","Fragment","multiple","name","file","isContainFolder","size","currentTarget","open","onClose","MenuListProps","MenuItem","onChange","ref","directory","webkitdirectory","marginBottom","TableContainer","maxHeight","Table","sx","minWidth","TableHead","TableRow","TableCell","align","TableBody","map","index","border","component","scope","Tooltip","title","arrow","placement","componentsProps","tooltip","slice","IconButton","splice","removeFile","originArr","concat","importKeyFromBytes","keyBytes","crypto","subtle","importKey","deriveKey","sourceKey","keyUsage","keyDerivationParams","encryptFile","fileArrayBuffer","secret","plainTextBytes","Uint8Array","passwordBytes","TextEncoder","encode","salt","getRandomValues","iv","passwordKey","iterations","hash","aesKey","encrypt","cipherBytes","cipherBytesArray","resultBytes","byteLength","set","decryptFile","cipher","password","decrypt","decryptedContent","readFileAsync","resolve","reader","FileReader","onload","result","onerror","readAsArrayBuffer","connect","state","accountAddress","itemName","setItemName","price","setPrice","isSubmit","setSubmit","sizeErrorMessage","setCancel","setUpState","setShareLink","setErrorMessage","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleClickUpload","totalSize","cypher","Cypher","genMnemonics","mnemonics","fileData","btoa","encryptedData","encryptedFile","Blob","form","FormData","fileNameSplitArray","split","fileExtension","append","pinToIPFS","zip","JSZip","count","binary","generateAsync","content","perSignData","base64Signature","AuthBasic","AuthBearer","cancel","axios","CancelToken","source","cancelToken","token","headers","Authorization","maxContentLength","onUploadProgress","p","percent","loaded","total","round","pin","url","process","REACT_APP_IPFS_ENDPOINT","upResult","status","jsonStr","replaceAll","items","JSON","parse","folder","upRes","cid","Hash","Name","resultApi","private_key","options","Size","Grid","item","lg","md","sm","xs","OutlinedInput","value","disabled","maxWidth","TextField","helperText","variant","inputProps","min","progressLabel","lineHeight","isLoggedIn","update","shareLink","errorMessage","handleBack","completed","isLabelVisible","bgColor","location","origin","myRevenueBlock","borderBottom","paddingLeft","paddingRight","mySellingItemsBlock","borderRight","myBoughtItemsBlock","borderTop","listCard","overflow","claimBtn","claimHistoryBtn","copyIcon","closeButton","float","closeIcon","StyledLoader","LoadingOverlay","setOpen","infoOpen","setInfoOpen","shareLinkOpen","setShareLinkOpen","setData","claimHistory","setClaimHistory","loading","setLoading","fetchAccountInfo","onClickClaim","unclaimed","getPrivateKey","decryptAndDownload","privateKey","fileCid","get","responseType","decryptData","saveFile","File","saveAs","active","spinner","wrapper","totalRevenue","Dialog","DialogTitle","Box","DialogContent","Paper","row","amount","create_time","replace","tx_hash","onCopy","Snackbar","autoHideDuration","Alert","severity","soldFiles","buyers","share_link","boughtFiles","imgButtonDisabled","success","setSuccess","setName","numberOfFiles","setNumberOfFiles","setSize","fileExist","setFileExist","setFileCid","sellerAddress","setSellerAddress","transactionHash","setTransactionHash","shortlink","useParams","payment_address","clickPayButton","eth","sendTransaction","to","utils","toWei","chainId","on","receipt","confirmationNumber","SET_ACCOUNT_ADDRESS","SET_ACCOUNT_SIGNATURE","SET_IS_LOGGED_IN","setIsLoggedIn","dispatch","HeaderBar","header","setAccountAddress","PropTypes","func","isRequired","setAccountSignature","storedSignature","storedAddress","accounts","document","hidden","removeItem","updateSignature","substr","Wrapper","div","Main","hide_header_routes","homeBackground","backgroundPosition","Layout","children","useLocation","indexOf","pathname","exact","path","BrowseFiles","MyAccount","BuyFiles","initialState","AccountReducer","RootReducer","combineReducers","middlewares","thunk","Store","createStore","compose","applyMiddleware","x","Mock","require","fileDB","id","onGet","reply","config","find","onAny","passThrough","App","store","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","REACT_APP_ENV","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.989fd8fe.chunk.js","sourcesContent":["export const sign = (data, account) => {\n  const msg = Buffer.from(data, 'utf8').toString('hex');\n\n  if (!window.ethereum?.request)\n    return Promise.reject(\"Error\")\n  return window.ethereum?.request({\n    from: account,\n    params: [msg, account],\n    method: 'personal_sign'\n  }).then((signature) => {\n    console.info('signData:', signature);\n    return signature;\n  });\n}","export default __webpack_public_path__ + \"static/media/connect-button.5f73df82.png\";","import React, { useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport connectButton from '../assets/connect-button.png';\nimport Web3 from \"web3\";\n\nconst Home = () => {\n  const history = useHistory();\n  const [web3, setWeb3] = React.useState();\n  const [isMetaMask, setIsMetaMask] = React.useState(true);\n  const [address, setAddress] = React.useState();\n  \n  useEffect(() => {\n    if(window.ethereum) {\n      if(localStorage.getItem('address')) {\n        window.ethereum\n        .request({ method: 'eth_accounts' })\n        .then((res) => {\n          if(res.length > 0) history.push('/sell-my-files');\n        })\n        .catch(console.error);\n      }\n    }\n    else {\n      setIsMetaMask(false);\n    }\n  });\n\n  useEffect(() => {\n    if(web3 && address) { history.push('/sell-my-files') };\n  }, [web3, address]);\n\n  const connectMetaMask = async () => {\n    if (window.ethereum) {\n      const web3Obj = new Web3(window.ethereum);\n      try {\n        await window.ethereum.enable();\n        setWeb3(web3Obj);\n      } catch (error) {\n      }\n\n      window.ethereum\n      .request({ method: 'eth_accounts' })\n      .then(async (res) => {\n        if(res.length === 0) history.push('/');\n        else {\n          localStorage.setItem('address', res[0]);\n          setAddress(res[0]);\n        }\n      })\n      .catch(console.error);\n    }\n    else if (window.web3) {\n      const web3Obj = window.web3;\n      setWeb3(web3Obj);\n    }\n    else {\n      const provider = new Web3.providers.HttpProvider(\n        `https://rinkeby.infura.io/v3/ff7cb837065f48009f1e3b2039f50df3`\n      );\n      const web3Obj = new Web3(provider);\n      setWeb3(web3Obj);\n    }\n  }\n\n  return (\n    <div style={{textAlign: 'center', paddingTop: '8rem'}}>\n      {isMetaMask ? \n      <img src={connectButton} style={{width: '30%', cursor: 'pointer'}} alt=\"\" onClick={() => connectMetaMask()} /> \n      : \n      <h2>You have not installed MetaMask yet. <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noreferrer\">Click here</a> to Install MetaMask.</h2>}\n    </div>\n  );\n};\nexport default Home;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABVAAAAJgCAYAAABso0hrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABG7SURBVHgB7dqxDQMxDARB0f33LLuA34CZH5gBlJ0aWHDO3j0AAAAAAO80m/HnAAAAAADwSEAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAECY37ubD/eu5gAAAAAAf2NmVnsXqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAwHkmoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAAQBFQAAAAAgCKgAAAAAAEFABQAAAAAIAioAAAAAQBBQAQAAAACCgAoAAAAAEARUAAAAAIAgoAIAAAAABAEVAAAAACAIqAAAAAAAQUAFAAAAAAgCKgAAAABAEFABAAAAAIKACgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACHP27gEAAAAAeKdVE3WBCgAAAAAQBFQAAAAAgCCgAgAAAAAEARUAAAAAIAioAAAAAABBQAUAAAAACAIqAAAAAEAQUAEAAAAAgoAKAAAAABAEVAAAAACAIKACAAAAAIQvG+QKvaZfLdUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZcAAABfCAYAAAAkqopgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANmSURBVHgB7d1RbhtVFIDhcyeTxkkTYaS8pRFdQndAugJgBfQx8ILYQbsIKnaTLiEbQEKEVjyU1DRA4tjxxYnEQ2T6QO8xOPB90sjyLGB+zbnSnBIr4uRweFC6chQA/G016rP956OnsSK6AIBk4gJAOnEBIF0fK2pjMI3dvbMAYNHb00GcvdmMVeXNBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASCduACQLuXDlT8eDp+ULj6ONsMaALyPEuWTl18OP4oGtcTowTejryNBSlxmJQ66KJ8HAP+WRzXKo2hQanw//0mJi7EYAOnEBYB0S1kWtrUzjo3NabToOicwAO+yeX8S/fosWsyuSvzy81Ysw1Licr1FcmvnMgBYjvWNq5urxdW0m8cllsJYDIB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASBdf3I4PIhGJUrTghoAVkNGE6aDOO5LV44CgP+9GvEwown9RX1sLAZAOnEBIN3CPpeNwSRarTUusAHgn5HxzJ9c9jGblVv3FuKyu/drAPDft9bPUp75r19tx/h8/dY9YzEA0okLAOnEBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdOICQDpxASCduACQTlwASCcuAKRbWBb2+tVOtNr+4CIG99u3mwGwPNfbI09/2o5Wk/Hawr2FuIzP+2i1tV0CgNVW53HJeOb/FWMxANKJCwDp+jqrj6NR18VXNcqnAcBdNpo34bNoNB3Ecb//7ehFNPrhi+GTzjELwJ02f4yPHiQ04ZqxGADpxAWAdOICQDpxASCduACQTlwASCcuAKQTFwDSiQsA6cQFgHTiAkC6pXzIf3yxfvORmhZ9P4t7m9MAYNH1gq7J5Vq0mF0t76OQS4nL72f3bq4WG4Np7O6dBQCLzn9bj7M3m7GqjMUASCcuAKRLGYt1NV6UUms0qLU8nJ/THAQA7+O4RD2OBrXEKJKszIqvk8PhQenK0Z//nbkAvNvb08GtM5ca9dn+89HTWBHGYgCkExcA0okLAOnEBYB04gJAOnEBIJ24AJBOXABIJy4ApBMXANKJCwDpxAWAdEtZFpZhfNHHy+8+DADuHm8uAKQTFwDSiQsA6f4A5S+XGOxSrkYAAAAASUVORK5CYII=\"","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport cardImg from '../assets/card-background.png';\nimport buttonImg from '../assets/button.png';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'white !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n}));\n\nconst SellMyFiles = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.card}>\n          <Button className={classes.imgButton} onClick={() => history.push('/browse-files')}>Sell My Files</Button> \n        </div>\n      </div>\n    );\n};\nexport default SellMyFiles;","export const UPLOAD_TYPE_FILE = 'file';\nexport const UPLOAD_TYPE_FOLDER = 'folder';","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport { styled, alpha } from '@mui/material/styles';\nimport { Button, Menu, MenuItem } from '@mui/material';\nimport { FileUploader } from \"react-drag-drop-files\";\nimport TableContainer from '@mui/material/TableContainer';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport buttonImg from '../../assets/button.png';\nimport buttonSecImg from '../../assets/button_sec.png';\nimport buttonOrangeImg from '../../assets/button_orange.png';\nimport Tooltip from '@mui/material/Tooltip';\nimport { UPLOAD_TYPE_FILE, UPLOAD_TYPE_FOLDER } from '../../utils/constants';\n\nconst useStyles = makeStyles(theme => ({\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n    addMoreButton: {\n      backgroundImage: `url(${buttonSecImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 150,\n      height: 40,\n      color: 'white !important',\n      textTransform: 'none !important',\n      marginRight: '4rem !important',\n      marginLeft: '-2rem !important'\n    },\n    continueButton: {\n      backgroundImage: `url(${buttonOrangeImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 150,\n      height: 40,\n      color: 'white !important',\n      textTransform: 'none !important',\n      marginRight: '4rem !important',\n      marginLeft: '-2rem !important'\n    },\n    fileDragAndDrop: {\n      width: '100vw',\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n    },\n  }));\n\n  const StyledMenu = styled((props) => (\n    <Menu\n      elevation={0}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      {...props}\n    />\n  ))(({ theme }) => ({\n    '& .MuiPaper-root': {\n      borderRadius: 6,\n      marginTop: theme.spacing(1),\n      width: 300,\n      color:\n        theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\n      boxShadow:\n        'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n      '& .MuiMenu-list': {\n        padding: '4px 0',\n      },\n      '& .MuiMenuItem-root': {\n        '& .MuiSvgIcon-root': {\n          fontSize: 18,\n          color: theme.palette.text.secondary,\n          marginRight: theme.spacing(1.5),\n        },\n        '&:active': {\n          backgroundColor: alpha(\n            theme.palette.primary.main,\n            theme.palette.action.selectedOpacity,\n          ),\n        },\n      },\n    },\n  }));\n\nconst FirstStep = (props) => {\n  const classes = useStyles();\n  const [isUpdate, setIsUpdate] = React.useState(true);\n  const [typeErrorMessage, setTypeErrorMessage] = React.useState();\n  const hiddenFileInput = React.useRef(null);\n  const hiddenFolderInput = React.useRef(null);\n  const hiddenMoreFileInput = React.useRef(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const menuOpen = Boolean(anchorEl);\n  const { setSizeErrorMessage, fileList, setFileList, step, setStep } = props;\n\n  const handleClickBrowseFiles = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  }\n\n  const handleClick = type => {\n    if(type === UPLOAD_TYPE_FILE) {\n      hiddenFileInput.current.click();\n    }\n    else {\n      hiddenFolderInput.current.click();\n    }\n    setAnchorEl(null);\n  };\n\n  const handleMoreClick = event => {\n    hiddenMoreFileInput.current.click();\n  };\n\n  const handleClickContinue = event => {\n    setStep(step+1);\n  }\n\n  const handleChange = event => {\n    var fileArr = [];\n    setSizeErrorMessage(null);\n    setTypeErrorMessage(null);\n    Object.keys(event.target.files).forEach(key => fileArr.push(event.target.files[key]));\n    setFileList(fileArr);\n  }\n\n  const handleDragAndDropChange = file => {\n    var isContainFolder = false;\n    var fileArr = [];\n    setSizeErrorMessage(null);\n    setTypeErrorMessage(null);\n    Object.keys(file).forEach(key => {\n      if(file[key].type === \"\" && file[key].size === 4096) isContainFolder = true;\n      fileArr.push(file[key]);\n    });\n    if(isContainFolder) {\n      setTypeErrorMessage('Can\\'t upload folder using drag and drop zone. Please use Browse File button.');\n    }\n    else {\n      setFileList(fileArr);\n    }\n  }\n\n  const handleMoreChange = event => {\n    var fileArr = [];\n    var originArr = fileList;\n    Object.keys(event.target.files).forEach(key => fileArr.push(event.target.files[key]));\n    setFileList(originArr.concat(fileArr));\n  }\n\n  const removeFile = (index) => {\n    if(isUpdate) {\n      setIsUpdate(false);\n    }\n    else {\n      setIsUpdate(true);\n    }\n\n    var fileArr = fileList;\n    fileArr.splice(index, 1);\n    setFileList(fileArr);\n  }\n\n  return (\n    <React.Fragment>\n      {fileList.length === 0 ? \n        <div>\n          <FileUploader \n            multiple={true}\n            name=\"file\"\n            handleChange={handleDragAndDropChange}\n          >\n            <div className={classes.fileDragAndDrop}></div>\n          </FileUploader>\n          <h2>Drag & Drop Files Here</h2>\n          <h2>or</h2>\n          <Button className={classes.imgButton} onClick={handleClickBrowseFiles}>Browse Files</Button>\n          <StyledMenu \n            anchorEl={anchorEl}\n            open={menuOpen}\n            onClose={handleCloseMenu}\n            MenuListProps={{\n              'aria-labelledby': 'basic-button',\n            }}\n          >\n            <MenuItem onClick={() => handleClick(UPLOAD_TYPE_FILE)}>Upload Files</MenuItem>\n            <MenuItem onClick={() => handleClick(UPLOAD_TYPE_FOLDER)}>Upload Folder</MenuItem>\n          </StyledMenu>\n          {typeErrorMessage && <p style={{color: 'red'}}>{typeErrorMessage}</p>}\n          <input type='file' onChange={handleChange} multiple style={{display: 'none'}} ref={hiddenFileInput}  />\n          <input type='file' onChange={handleChange} style={{display: 'none'}} ref={hiddenFolderInput} directory=\"\" webkitdirectory=\"\" />\n        </div>\n      :\n        <div>\n          <div style={{marginBottom: '30px'}}>\n          <TableContainer style={{ maxHeight: '20rem' }}>\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>File Name</TableCell>\n                  <TableCell align=\"right\">Action</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody sx={{\n                'tr:nth-of-type(odd)': {backgroundColor: '#F8F8F8'}\n              }}>\n                {fileList.map((file, index) => (\n                  <TableRow\n                    key={index}\n                    sx={{ '&:last-child td, &:last-child th': { border: 0 }, 'td': {padding: 0}}}\n                  >\n                    <TableCell component=\"th\" scope=\"row\">\n                      <Tooltip title={\n                          <span>{file.name}</span>\n                      } arrow placement=\"top\" componentsProps={{\n                        tooltip: {\n                          sx: {\n                            color: \"black\",\n                            backgroundColor: \"white\",\n                            boxShadow: \"0 0 6px rgba(100, 100, 100, 0.5)\"\n                          }\n                        },\n                        arrow: {\n                          sx: {\n                            color: 'white',\n                          }\n                        }\n                      }}><span>{file.name.length > 20 ? file.name.slice(0, 20) + '...' : file.name}</span></Tooltip>\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <IconButton onClick={() => removeFile(index)}><DeleteIcon /></IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            </TableContainer>\n          </div>\n          <Button className={classes.addMoreButton} onClick={handleMoreClick}>Add More</Button>\n          <Button className={classes.continueButton} onClick={handleClickContinue}>Continue</Button>\n          <input type='file' onChange={handleMoreChange} multiple style={{display: 'none'}} ref={hiddenMoreFileInput}/>\n        </div>\n      }\n    </React.Fragment>\n  );\n};\n\nexport default FirstStep;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKKSURBVHgB7d0xjtpAFIDhZwtLWwYKJKgQJVUkLuCV7D43SHKCHCHKSZLcIL2N4hyAlhIhCigoWIkCJNA4nlVAm2YzY4XVW/N/jSnGgoJfSNZjJpArSpLkZ3WJBWie+zzPC7mSUACo05IXMJ1OZbvdCvDajcdjabfbcm38YgIKESagEGECChEmoBBhAgoRJqAQYQIKESagkNeAQRzHgyiKYtf1ZVm+EaCBgiB4l6bpwGWtMeZhMpn8EA9eYdooq9i+CnDjqg4+ua4Nw3BRXa4X5tl+v/casTudTgI0wWazefz+u2i1WtLtdqWOWmHaKGezmQC3ZrlcOq+9u7urHSYPfwCFCBNQiDABhQgTUIgwAYUIE1CIMAGFCBNQqPVni0lXAwHgxc6M+3RmjPluJ39i1xuqNxAA3uyfOWLXxWEY/rqM5NktJl25zgoCt8zOiPt01ev1pN/vP76+hMm+r8D/ZcP06erpfrU8/AEUIkxAIcIEFCJMQCHCBBQiTEAhwgQUIkxAIcIEFLpM/vickmsnGna7nQB4nk9Xdle9s0uY9ghrV6vViu0rgX+wofl09ZQNs/BYb6fk3woAX4XrQmPMopXn+b3rDWmafuCIBMBPEASLLMucO7N4+AMoRJiAQoQJKESYgEKECShEmIBChAkoRJiAQrVOlO50OjIajZzXz+dzORwOArx2w+Hwr5nW59ij3uuqdaf9YOf9L12s12vCRCPYoXSfwfS6vMI8Ho9FFEUfPW75XJblQIDm+WJH7VwWGmMexJNXmEVRLKrLN9f1SZK8F847QTMVWZYVciU8/AEUIkxAIcIEFCJMQCHCBBQiTEAhwgQUIkxAofrDfB7qbuEH3Cp+MQGFfgNzXZp50lLGkAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKwSURBVHgB7d1fahNBHMDx32w2jQmJbkB8UCrxBh4hvYFH0LdCHjyCeAntm3gDb5B4EiOEIBJssJA/TXbH3VXX+mJmFld+br4faJuHGfrSLwPbyS9GKjQbRWOxZihAzdjEnp1eLCdSkUAAqBPKP3D3/pW02nsB/neLeVe266ZUjRMTUIgwAYUIE1CIMAGFCBNQiDABhQgTUIgwAYW8Lhh8OI8G6b9Wh+47TCRAHQXBk1nag8vSxMjy4evlO/HgFWYeZWDeOG+wAtSSEfs8bcFpbUNkmv6oLsziF4WJtNo75/VBQKGoh1udXf737yKJjWxWJ1JGqTCzKPv3VgIcm260dV4b7wP59LFcmDz8ARQiTEAhwgQUIkxAIcIEFCJMQCHCBBQiTEChcDbqj10XGysD7vAAftJmIp/OEmvfhumuoesGogRKiXw6MyLviyt52YhJV2HT7a4gcMxMYL26Wl2dpF+t/HURJnNfgb8re/OGT1fb9a+r6zz8ARQiTEAhwgQUIkxAIcIEFCJMQCHCBBQiTEAhwgQUKq4a3Lx1cEgjsBK2YgHwZz5dxftG8brYtZj3xFWnt2V8JXBANr7Sp6ubQjF24rza5h958FgA+PHozMQydZvx/sPsPHqafUQCJyZw2PeBz3eyt3FNH7y6fOSzl4c/gEKECShEmIBChAkoRJiAQoQJKESYgEKECShU6hOlt+umXH7uOK+/3d9Ig5GXqIGvX9oS793u5SSJ1/2d35QKM7vR8HP+pYtO75owUQvXm0Z+MFXNK8ydyKSZ2GfOGwLzIv0+EKBmrNiXJpGpy9rYyFI8lT9rHcxG0VisGWbTqBkojTpYzLv5iWkTe3Z6sZxIRXj4AyhEmIBChAkoRJiAQoQJKESYgEKECShEmIBCpa7k+So7wg84VpyYgELfAFjinDPI94dQAAAAAElFTkSuQmCC\"","const importKeyFromBytes = async (keyBytes) =>\n  window.crypto.subtle.importKey(\"raw\", keyBytes, \"PBKDF2\", false, [\n    \"deriveKey\"\n  ])\n\nconst deriveKey = async (\n  sourceKey,\n  keyUsage,\n  keyDerivationParams\n) =>\n  window.crypto.subtle.deriveKey(\n    keyDerivationParams,\n    sourceKey,\n    { name: \"AES-GCM\", length: 256 },\n    false,\n    keyUsage\n  )\n\nexport const encryptFile = async (\n    fileArrayBuffer,\n    secret\n  ) => {\n    try {\n      const plainTextBytes = new Uint8Array(fileArrayBuffer)\n      const passwordBytes = new TextEncoder().encode(secret)\n  \n      const salt = window.crypto.getRandomValues(new Uint8Array(16))\n      const iv = window.crypto.getRandomValues(new Uint8Array(12))\n  \n      const passwordKey = await importKeyFromBytes(passwordBytes)\n  \n      const aesKey = await deriveKey(passwordKey, [\"encrypt\"], {\n        name: \"PBKDF2\",\n        salt: salt,\n        iterations: 250000,\n        hash: \"SHA-256\"\n      })\n      const cipherBytes = await window.crypto.subtle.encrypt(\n        { name: \"AES-GCM\", iv: iv },\n        aesKey,\n        plainTextBytes\n      )\n  \n      const cipherBytesArray = new Uint8Array(cipherBytes)\n      const resultBytes = new Uint8Array(\n        cipherBytesArray.byteLength + salt.byteLength + iv.byteLength\n      )\n      resultBytes.set(salt, 0)\n      resultBytes.set(iv, salt.byteLength)\n      resultBytes.set(cipherBytesArray, salt.byteLength + iv.byteLength)\n  \n      return resultBytes\n    } catch (error) {\n      console.error(\"Error encrypting file\")\n      console.error(error)\n      throw error\n    }\n  }\n\n\n  export const decryptFile = async (\n    cipher,\n    password\n  ) => {\n    try {\n      const cipherBytes = new Uint8Array(cipher)\n      const passwordBytes = new TextEncoder().encode(password)\n  \n      const salt = cipherBytes.slice(0, 16)\n      const iv = cipherBytes.slice(16, 16 + 12)\n      const data = cipherBytes.slice(16 + 12)\n      const passwordKey = await importKeyFromBytes(passwordBytes)\n      const aesKey = await deriveKey(passwordKey, [\"decrypt\"], {\n        name: \"PBKDF2\",\n        salt: salt,\n        iterations: 250000,\n        hash: \"SHA-256\"\n      })\n  \n      const decryptedContent = await window.crypto.subtle.decrypt(\n        {\n          name: \"AES-GCM\",\n          iv: iv\n        },\n        aesKey,\n        data\n      )\n  \n      return decryptedContent\n    } catch (error) {\n      console.error(\"Error decrypting file\")\n      console.error(error)\n      return\n    }\n  }\n\n  export const readFileAsync = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n  \n      reader.onload = () => {\n        reader.result && resolve(reader.result)\n      }\n  \n      reader.onerror = reject\n  \n      reader.readAsArrayBuffer(file)\n    })\n  }","import React from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@mui/styles';\nimport { Button, Grid, OutlinedInput, TextField } from '@mui/material';\nimport buttonImg from '../../assets/button.png';\nimport { connect } from \"react-redux\";\nimport JSZip from 'jszip';\nimport { encryptFile, readFileAsync } from '../../utils/encrypt';\nimport {Cypher} from \"@zheeno/mnemonic-cypher\";\n\nconst WordsCount = 8\n\nconst useStyles = makeStyles(theme => ({\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n  }));\n\nconst SecondStep = (props) => {\n  const classes = useStyles();\n  const [itemName, setItemName] = React.useState('');\n  const [price, setPrice] = React.useState(0);\n  const [isSubmit, setSubmit] = React.useState(false);\n  const {\n    accountAddress,\n    signature,\n    fileList,\n    step,\n    sizeErrorMessage,\n    setCancel,\n    setUpState,\n    setShareLink,\n    setErrorMessage,\n    setSizeErrorMessage,\n    setStep\n  } = props;\n\n  const formatBytes = (bytes, decimals = 2) => {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  const handleClickUpload = async (event) => {\n    setSubmit(true);\n\n    if (itemName && price && price > 0) {\n      let totalSize = 0;\n      for(let i=0; i<fileList.length; i++) {\n        totalSize += fileList[i].size;\n      }\n      if(totalSize < 1000000000)\n      {\n        if(fileList.length === 1) {\n          const cypher = new Cypher(WordsCount);\n          const {secret, mnemonics} = cypher.genMnemonics();\n          const fileData = await readFileAsync(fileList[0]);\n          const encryptedData = await encryptFile(fileData, window.btoa(secret));\n          const encryptedFile = new Blob([encryptedData], { type: fileList[0].type });\n  \n          const form = new FormData();\n          const fileNameSplitArray = fileList[0].name.split('.');\n          const fileExtension = fileNameSplitArray[fileNameSplitArray.length - 1];\n          form.append('file', encryptedFile, `${itemName}.${fileExtension}`);\n  \n          setStep(step+1);\n          await pinToIPFS(form, secret);\n        }\n        else {\n          // Compose all files into a folder\n          let zip = new JSZip();\n          var count = 0;\n          fileList.forEach(function(file) {\n            zip.file(file.name, file, {binary: true});\n            count++;\n            if (count === fileList.length) {\n              console.log('step start');\n              console.log(file.name);\n              zip.generateAsync({type:'blob'}).then(async (content) => {\n                setStep(step+1); // Move to progress page.\n                setUpState(0); // Set start progress 0.\n\n                // Encrypt the file with public key\n                const cypher = new Cypher(WordsCount);\n                const {secret, mnemonics} = cypher.genMnemonics();\n                const file = new Blob([content], { type: 'application/zip' });\n                const fileData = await readFileAsync(file)\n                const encryptedData = await encryptFile(fileData, window.btoa(secret));\n                const encryptedFile = new Blob([encryptedData], { type: 'application/zip' });\n\n                const form = new FormData();\n                form.append('file', encryptedFile, `${itemName}.zip`);\n\n                await pinToIPFS(form, secret);\n              });\n            }\n          });\n        }\n      }\n      else {\n        setSizeErrorMessage('We can not upload files larger than 1GB!');\n      }\n    }\n  }\n\n  const pinToIPFS = async (form, secret) => {\n    // Upload the folder to IPFS W3Auth GW -> single cid back\n    const perSignData = `eth-${accountAddress}:${signature}`;\n    const base64Signature = window.btoa(perSignData);\n    const AuthBasic = `Basic ${base64Signature}`;\n    const AuthBearer = `Bearer ${base64Signature}`;\n    const cancel = axios.CancelToken.source();\n    setCancel(cancel);\n\n    const upResult = await axios.request({\n        cancelToken: cancel.token,\n        data: form,\n        headers: { Authorization: AuthBasic },\n        maxContentLength: 1024,\n        method: 'POST',\n        onUploadProgress: (p) => {\n            const percent = p.loaded / p.total;\n            setUpState(Math.round(percent * 99));\n        },\n        params: { pin: true },\n        url: `${process.env.REACT_APP_IPFS_ENDPOINT}/api/v0/add`\n    }).catch(error => {\n      setErrorMessage('Error occurred during uploading!');\n    });\n\n    if(upResult?.status === 200) {\n      let upRes;\n      if (typeof upResult.data === 'string') {\n        const jsonStr = upResult.data.replaceAll('}\\n{', '},{');\n        const items = JSON.parse(`[${jsonStr}]`);\n        const folder = items.length - 1;\n\n        upRes = items[folder];\n        delete items[folder];\n        upRes.items = items;\n      } else {\n          upRes = upResult.data;\n      }\n\n      // Call IPFS W3Auth pinning service\n      const PinEndpoint = 'https://pin.crustcode.com';\n      \n      let resultApi = await axios.request({\n          data: {\n              cid: upRes.Hash,\n              name: upRes.Name\n          },\n          headers: { Authorization: AuthBearer },\n          method: 'POST',\n          url: `${PinEndpoint}/psa/pins`\n      }).catch(error => {\n        setErrorMessage('Error occurred druing pinning cid!');\n      });\n      \n      if(resultApi?.status === 200) {\n        setUpState(99);\n        // CALL API 1\n        resultApi = await axios.request({\n          data: {\n              cid: upRes.Hash,\n              price: price,\n              name: upRes.Name,\n              private_key: window.btoa(secret),\n              options: {\n                size: formatBytes(upRes.Size),\n                count: fileList.length,\n              }\n          },\n          headers: { Authorization: AuthBearer },\n          method: 'POST',\n          url: `https://p2d.crustcode.com/api/v1/calculateShortLinkHash`\n        }).catch(error => {\n          setErrorMessage('Error occurred during generate short hash link');\n        });\n\n        if(resultApi?.status === 200) {\n          setShareLink(resultApi.data.data.result);\n          setUpState(100);\n          setStep(4);\n        }\n        else {\n          setErrorMessage('Error occurred during generate short hash link');\n        }\n      }\n      else {\n        setErrorMessage('Error occurred druing pinning cid!');\n      }\n    }\n    else {\n      setErrorMessage('Error occurred during uploading!');\n    }\n  }\n\n  return (\n    <div>\n      <Grid container spacing={3}>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Files for Sale</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <OutlinedInput type=\"text\" value={`${fileList.length} file${fileList.length === 1 ? '' : 's'} selected`} disabled style={{width: '100%', maxWidth: 300}}/>\n        </Grid>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Name This Item</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <TextField \n            error={!itemName && isSubmit ? true : false}\n            value={itemName} \n            onChange={(event) => { setItemName(event.target.value); setSubmit(false); }} \n            style={{width: '100%', maxWidth: 300}}\n            helperText={!itemName && isSubmit ? \"This field is required\" : null}\n          />\n        </Grid>\n        <Grid item lg={5} md={5} sm={12} xs={12} style={{display: 'grid', textAlign: 'end', alignItems: 'center'}}>\n          <span>Set Price (ETH)</span>\n        </Grid>\n        <Grid item lg={7} md={7} sm={12} xs={12} style={{textAlign: 'start'}}>\n          <TextField \n            error={(!price || price  <= 0) && isSubmit ? true : false}\n            variant=\"outlined\" \n            type=\"number\" \n            inputProps={{ min: \"0\", step: \"0.1\"}} \n            value={price} \n            onChange={(event) => { setPrice(event.target.value); setSubmit(false); }} \n            style={{width: '100%', maxWidth: 300}}\n            helperText={(!price || price  <= 0) && isSubmit ? \"The value should not be null or less than 0.\" : null}\n          />\n        </Grid>\n      </Grid>\n      <Button className={classes.imgButton} onClick={handleClickUpload} style={{marginTop: 20}}>Upload</Button>\n      {sizeErrorMessage && <p style={{color: 'red'}}>{sizeErrorMessage}</p>}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature\n});\n\nexport default connect(mapStateToProps, {  })(SecondStep);","import React, { useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport ProgressBar from \"@ramonak/react-progress-bar\";\nimport cardImg from '../../assets/card-background.png';\nimport buttonImg from '../../assets/button.png';\nimport FirstStep from './firstStep';\nimport SecondStep from './secondStep';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n      margin: '2rem',\n      height: '90%'\n    },\n    card: {\n      backgroundImage: `url(${cardImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: '100% 100%',\n      height: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center',\n      position: 'relative'\n    },\n    progressLabel: {\n      fontSize: 36,\n      fontWeight: 500,\n      lineHeight: 0,\n    },\n    imgButton: {\n      backgroundImage: `url(${buttonImg})`, \n      backgroundRepeat: 'no-repeat', \n      backgroundSize: 'contain',\n      width: 300,\n      height: 70,\n      fontSize: '25px !important',\n      color: 'white !important',\n      fontWeight: '600 !important',\n      textTransform: 'none !important',\n    },\n  }));\n\nconst BrowseFiles = (props) => {\n  const classes = useStyles();\n  const [fileList, setFileList] = React.useState([]);\n  const [cancel, setCancel] = React.useState();\n  const [step, setStep] = React.useState(1);\n  const [update, setUpState] = React.useState(0);\n  const [shareLink, setShareLink] = React.useState('');\n  const [errorMessage, setErrorMessage] = React.useState();\n  const [sizeErrorMessage, setSizeErrorMessage] = React.useState();\n  const { signature, isLoggedIn } = props;\n\n  const handleBack = event => {\n    setStep(step-1);\n    setUpState(0);\n    cancel.cancel();\n    setErrorMessage(null);\n    setSizeErrorMessage(null);\n  }\n\n  useEffect(() => {\n    console.log(update, '%')\n  }, [update]);\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.card}>\n        {\n          (step === 2 || step === 3) &&\n          <Button style={{textTransform: 'none', position: 'absolute', top: 15, left: 20, color: 'black'}} onClick={handleBack}>{\"< Go back\"}</Button>\n        }\n        {\n          isLoggedIn \n          ? \n          <React.Fragment>\n            {signature ? <React.Fragment>\n              {step === 1 && <FirstStep\n                fileList={fileList}\n                setFileList={setFileList}\n                setSizeErrorMessage={setSizeErrorMessage}\n                step={step}\n                setStep={setStep}\n              />}\n              {step === 2 ? <SecondStep\n                fileList={fileList}\n                sizeErrorMessage={sizeErrorMessage}\n                step={step}\n                setCancel={setCancel}\n                setUpState={setUpState}\n                setShareLink={setShareLink}\n                setErrorMessage={setErrorMessage}\n                setSizeErrorMessage={setSizeErrorMessage}\n                setStep={setStep}\n              /> : null}\n              {step === 3 && <div>\n                <h3 className={classes.progressLabel} style={{color: errorMessage ? 'red' : null}}>{errorMessage ? errorMessage : \"Waiting for Encryption & Uploading...\"}</h3>\n                <ProgressBar completed={update} borderRadius=\"0px\" isLabelVisible={false} height=\"40px\" bgColor={\"#56BA28\"} style={{border: '1px solid black'}} className=\"progressWrapper\"/>\n                <Button className={classes.imgButton} onClick={handleBack} style={{marginTop: 20}}>Cancel</Button>\n              </div>}\n              {step === 4 && <div>\n                <h1>Congratulations!</h1>\n                <h3>You have successfully created a sale item.</h3>\n                <h3>Sharelinks: <a target=\"_blank\" rel=\"noreferrer\" href={`${window.location.origin}/buy-files/${shareLink}`} style={{color: '#FF8D00'}}>{window.location.origin}/buy-files/{shareLink}</a></h3>\n              </div>}\n            </React.Fragment> : <React.Fragment>\n              <div>\n                <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n              </div>\n            </React.Fragment>}\n          </React.Fragment>\n          :\n          <div>\n            <h2>You are not logged into Metamask. Please login first.</h2>\n          </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn\n});\n\nexport default connect(mapStateToProps, {  })(BrowseFiles);","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@mui/styles';\nimport { connect } from \"react-redux\";\nimport { Button, Grid, Snackbar, Box, IconButton, Alert } from '@mui/material';\nimport LoadingOverlay from 'react-loading-overlay-ts';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport cardImg from '../../assets/card-background.png';\nimport claimImg from '../../assets/claim_btn.png';\nimport claimHistoryImg from '../../assets/claim_history.png';\nimport Tooltip from '@mui/material/Tooltip';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { decryptFile } from '../../utils/encrypt';\nimport { saveAs } from 'file-saver';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center',\n    position: 'relative'\n  },\n  myRevenueBlock: {\n    borderBottom: '1px solid black',\n    height: '30%',\n    paddingTop: 50,\n    paddingLeft: 30,\n    paddingRight: 30,\n    display: 'flex',\n    textAlign: 'left'\n  },\n  mySellingItemsBlock: {\n    borderRight: '1px solid black',\n    height: '70%',\n    textAlign: 'left',\n    paddingLeft: 30,\n    '@media only screen and (max-width: 900px)' : {\n      height: '35%'\n    }\n  },\n  myBoughtItemsBlock: {\n    height: '70%',\n    textAlign: 'left',\n    paddingLeft: 30,\n    '@media only screen and (max-width: 900px)': {\n      borderTop: '1px solid black',\n      height: '35%'\n    }\n  },\n  listCard: {\n    overflow: 'auto',\n    height: '80%',\n    '@media only screen and (max-width: 900px)': {\n      height: '60%'\n    }\n  },\n  claimBtn: {\n    backgroundImage: `url(${claimImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 93,\n    height: 31,\n    color: 'black !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n    marginRight: '20px !important'\n  },\n  claimHistoryBtn: {\n    backgroundImage: `url(${claimHistoryImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 215,\n    height: 31,\n    color: 'black !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  copyIcon: {\n    fontSize: '13px !important',\n    marginLeft: 15,\n    paddingTop: 5,\n    \"&:hover\": {\n      cursor: \"pointer\"\n    }\n  },\n  closeButton: {\n    float: 'right',\n    \"&:hover\": {\n      color: \"black\"\n    }\n  },\n  closeIcon: {\n    fontSize: '1rem !important',\n    \"&:hover\": {\n      color: \"black\"\n    }\n  }\n}));\n\nconst StyledLoader = styled(LoadingOverlay)`\n  height: 100%;\n`\n\nconst status = {\n  0: 'Newly Build',\n  1: 'Pending',\n  2: 'Success',\n  3: 'Failed',\n}\n\n\nconst MyAccount = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [infoOpen, setInfoOpen] = useState(false);\n  const [shareLinkOpen, setShareLinkOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState();\n  const [data, setData] = useState();\n  const [claimHistory, setClaimHistory] = useState();\n  const [loading, setLoading] = useState(false);\n  const { accountAddress, signature, isLoggedIn } = props;\n\n  useEffect(() => {\n    fetchAccountInfo();\n  }, [accountAddress, signature])\n\n  const handleBack = () => {\n    history.push('/');\n  }\n\n  const fetchAccountInfo = async () => {\n    if(accountAddress && signature && accountAddress.length > 0) {\n      setLoading(true);\n      // const signature = await sign(accountAddress, accountAddress);\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/accountInfo`\n      }).then(result => {\n        setData(result.data.data);\n      }).catch(error => {\n        console.log('Error occurred during fetch account info.');\n      });\n\n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/claimHistory`\n      }).then(result => {\n        setClaimHistory(result.data.data);\n        setLoading(false);\n      }).catch(error => {\n        console.log('Error occurred during fetch claim history');\n        \n      });\n    }\n  }\n\n  const onClickClaim = async () => {\n    if(data?.unclaimed === 0) {\n      setErrorMessage('No revenue can be claimed!');\n    }\n    else {\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n  \n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'post',\n        url: `https://p2d.crustcode.com/api/v1/claim`\n      }).then(result => {\n        fetchAccountInfo();\n      }).catch(error => {\n        setErrorMessage('Error occurred during fetch claim');\n      });\n    }\n  }\n\n  const getPrivateKey = async (name, cid) => {\n    const perSignData = `eth-${accountAddress}:${signature}`;\n    const base64Signature = window.btoa(perSignData);\n    const AuthBearer = `Bearer ${base64Signature}`;\n\n    await axios.request({\n      headers: { Authorization: AuthBearer },\n      method: 'get',\n      url: `https://p2d.crustcode.com/api/v1/download/${cid}`\n    }).then(result => {\n      console.log(result.data.data.status);\n      if(result.data.data.status === true) {\n        decryptAndDownload(result.data.data.result.private_key, name, cid);\n      }\n    }).catch(error => {\n      setErrorMessage('Error occurred during private key');\n    });\n  }\n\n  const decryptAndDownload = async (privateKey, name, fileCid) => {\n    setLoading(true);\n    const res = await axios.get(`${process.env.REACT_APP_IPFS_ENDPOINT}/ipfs/${fileCid}?filename=${name}`, { responseType: \"arraybuffer\" });\n    const decryptData = await decryptFile(res.data, privateKey);\n    const saveFile = new File([decryptData], name, { type: res.headers['content-type'] });\n    saveAs(saveFile, name);\n    setLoading(false);\n  }\n\n  return (\n    <div className={classes.container}>\n      <StyledLoader\n          active={loading}\n          spinner\n          style={{\n            wrapper: {\n              width: '100%',\n              height: '100%'\n            }\n          }}\n        >\n        <div className={classes.card}>\n          <Button style={{textTransform: 'none', position: 'absolute', top: 15, left: 20, color: 'black'}} onClick={handleBack}>{\"< Go back\"}</Button>\n          {isLoggedIn ? \n            <React.Fragment>\n              {signature ? \n              <Grid container style={{height: '96%', width: '98%'}}>\n                <Grid item lg={12} md={12} sm={12} xs={12} className={classes.myRevenueBlock}>\n                  <div>\n                    <p style={{fontSize: 20, fontWeight: 500}}>My Revenue</p>\n                    <p style={{fontSize: 15, fontWeight: 300, lineHeight: 0.5}}>Total Revenue: {data?.totalRevenue} ETH</p>\n                    <p style={{fontSize: 15, fontWeight: 300, lineHeight: 0.5}}>Unclaimed: {data?.unclaimed} ETH</p>\n                    <p style={{color: 'red'}}>{errorMessage}</p>\n                  </div>\n                  <div style={{paddingLeft: 30, paddingTop: 65}}>\n                    <Button className={classes.claimBtn} onClick={() => onClickClaim()}>Claim</Button>\n                    <Button className={classes.claimHistoryBtn} onClick={() => setOpen(true)}>Check Claim History</Button>\n                    <Dialog onClose={() => setOpen(false)} open={open} maxWidth=\"md\">\n                      <DialogTitle>\n                        <Box>\n                          <span>Check Claim History</span>\n                          <IconButton onClick={() => setOpen(false)} className={classes.closeButton}>\n                            <CloseIcon className={classes.closeIcon} />\n                          </IconButton>\n                        </Box>\n                      </DialogTitle>\n                      <DialogContent>\n                        <TableContainer component={Paper}>\n                          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                            <TableHead>\n                              <TableRow>\n                                <TableCell>No.</TableCell>\n                                <TableCell align=\"left\">Action</TableCell>\n                                <TableCell align=\"left\">Amount</TableCell>\n                                <TableCell align=\"left\">Date</TableCell>\n                                <TableCell align=\"left\">Status</TableCell>\n                                <TableCell align=\"left\"></TableCell>\n                              </TableRow>\n                            </TableHead>\n                            <TableBody sx={{\n                                'tr:nth-of-type(odd)': {backgroundColor: '#F8F8F8'}\n                              }}>\n                              {claimHistory?.map((row, index) => (\n                                <TableRow\n                                  key={`row-${index}`}\n                                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                >\n                                  <TableCell>{index + 1}</TableCell>\n                                  <TableCell align=\"left\">{`Claim`}</TableCell>\n                                  <TableCell align=\"left\">{row.amount} ETH</TableCell>\n                                  <TableCell align=\"left\">{row.create_time.replace('T', ' ').replace('.000Z', '')}</TableCell>\n                                  <TableCell align=\"left\">{status[row.status]}</TableCell>\n                                  <TableCell align=\"left\"><Tooltip title={\n                                    <React.Fragment>\n                                      <span>{row.tx_hash}\n                                      <CopyToClipboard text={row.tx_hash} onCopy={() => setInfoOpen(true)} >\n                                        <ContentCopyIcon className={classes.copyIcon}/>\n                                      </CopyToClipboard>\n                                      </span>\n                                    </React.Fragment>\n                                  } arrow placement=\"top\" componentsProps={{\n                                    tooltip: {\n                                      sx: {\n                                        color: \"black\",\n                                        backgroundColor: \"white\",\n                                        boxShadow: \"0 0 6px rgba(100, 100, 100, 0.5)\"\n                                      }\n                                    },\n                                    arrow: {\n                                      sx: {\n                                        color: 'white',\n                                      }\n                                    }\n                                  }}><u>Tx</u></Tooltip></TableCell>\n                                </TableRow>\n                              ))}\n                            </TableBody>\n                          </Table>\n                        </TableContainer>\n                      </DialogContent>\n                      <Snackbar open={infoOpen} autoHideDuration={2000} onClose={() => setInfoOpen(false)}>\n                        <Alert onClose={() => setInfoOpen(false)} severity=\"success\" sx={{ width: '100%' }}>\n                          Transaction address copied!\n                        </Alert>\n                      </Snackbar>\n                    </Dialog>\n                  </div>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12} className={classes.mySellingItemsBlock}>\n                  <p style={{fontSize: 20, fontWeight: 500}}>My Selling Items</p>\n                  <div className={classes.listCard}>\n                    {data?.soldFiles?.map((item, index) => (\n                      <p key={`sold-files-${index}`}>{`#${index+1} ${item.name}, ${item.price} ETH, ${item.buyers.length} sold, `} \n                      <CopyToClipboard text={`${window.location.origin}/buy-files/${item.share_link}`} onCopy={() => setShareLinkOpen(true)} >\n                        <a href='#'>Share Link</a>\n                      </CopyToClipboard>\n                      </p>\n                    ))}\n                  </div>\n                </Grid>\n                <Grid item lg={6} md={6} sm={12} xs={12} className={classes.myBoughtItemsBlock}>\n                  <p style={{fontSize: 20, fontWeight: 500}}>My Bought Items</p>\n                  <div className={classes.listCard}>\n                    {data?.boughtFiles?.map((item, index) => (\n                      <p key={`bought-files-${index}`}>\n                        <span>{`#${index+1} ${item.name}, ${item.price} ETH, ${status[item.status]} `}</span> \n                        {item.status === 2 && <a href=\"#\" onClick={() => getPrivateKey(item.name, item.cid)}>Download</a>}\n                      </p>\n                    ))}\n                  </div>\n                </Grid>\n                <Snackbar open={shareLinkOpen} autoHideDuration={2000} onClose={() => setShareLinkOpen(false)}>\n                  <Alert onClose={() => setShareLinkOpen(false)} severity=\"success\" sx={{ width: '100%' }}>\n                    Share link copied!\n                  </Alert>\n                </Snackbar>\n              </Grid>\n              \n              : \n              <div>\n                <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n              </div>\n              }\n            </React.Fragment>\n            : \n            <div>\n              <h2>You are not logged into Metamask. Please login first.</h2>\n            </div>\n          }\n        </div>\n      </StyledLoader>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn\n});\nexport default connect(mapStateToProps, {  })(MyAccount);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAfCAYAAACBFBGZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFpSURBVHgB7ZrRjYMwDIbN6QZgA2ACYAPYJEzACIzSbnAjNCMwAmzABlyMeOiBg5pSnVvp/yQLySEvn1DimBCFYVzMCG8kFMAXBWKMoXmeEZtIkiDvz8kHrwPyFYF8Rb49+dhFIeRzAkeULjIhb6WXffKLOI5vRbH3n+fwL1GWJWVZ9rPNW2v5EUlzxKSjctwcBM4RRYti0TPWfEUgXxHIV4Q3XCPkw49r4Agj5AaWf+GWwZZnjstgz+r2cp8bhoGrIMu78My9CfB/cPlZ17XFmq8I5CsC+YpAviJLb6dpmt0A93XatiVwDsntNE3Lk6sdI8wpXG+nRW/nPGtvpxGGJv7yr8JA5QKf/eu4Skms+YpAviKQr4jvTxb1fc9H4F3ebcTUdR2Bv3BVwz2bEHzye1cO1esvsHuqNE1hXoArw3EcuaoZHp3jk8+FqBXyKYEjuDYfH30Za74ikK8I5H8Qhj7r1vBb31L+BdwTpUkwEJZjAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAAAfCAYAAAB0xlhsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGLSURBVHgB7d3RbYMwEMbxo+oAbBAzQWAD2MRMwAgZhWzQEcIIjAAbsEHrQ3log2lB6j35/5MspAMePyFfLpDJOT6sXoA0ubDmoxe/y0nee+l78oW0OOdkng/navUmAEwQLsAI4QKM7O258rDKSP0qQLqqsIpIfYhdvBeuMs/zR1lu83W9ki+kp6oqKYri47U+DIMestg90WJQB49AAOzLsjVC0Ryx5wKMEC7ACOECjGhDw0fqFwFwlI/UJg1XryNNry4X8gX85ZmdH/OA0zRpF3HQLsdnIAD+h7bnm6YZ2HMBRggXYIRwAUYIF2BknS1s23ZzQucKu64TAPti2VmWZT1qt9BH7inruu6YLQR+95wtbCOnFn1y3SMn6rB4bAHH3GNF9lyAEcIFGCFcgJHdV6uN46gjHJt6aHTI7XYTICXaFdSZwTP2wjWGdmLz/Avzd7VzjmQhOdo5n+dZu4LT0Xv2wqWN+iFSdwKkS3+bOvxmUPZcgBHCBRghXICR7OT1XvjKCdLl5MSe6wtp/1Eg9ArvGQAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { makeStyles } from '@mui/styles';\nimport { Button } from '@mui/material';\nimport cardImg from '../../assets/card-background.png';\nimport buttonImg from '../../assets/button.png';\nimport { useParams } from \"react-router-dom\";\nimport Web3 from 'web3';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: '2rem',\n    height: '90%'\n  },\n  card: {\n    backgroundImage: `url(${cardImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: '100% 100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'white !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  imgButtonDisabled: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 300,\n    height: 70,\n    fontSize: '25px !important',\n    color: 'rgba(255,255,255, 0.5) !important',\n    fontWeight: '600 !important',\n    textTransform: 'none !important',\n  },\n  msg: {\n    color: 'red'\n  }\n}));\n\nconst BuyFiles = (props) => {\n  const classes = useStyles();\n  const [success, setSuccess] = useState(false); // Success for file purchase.\n  const [loading, setLoading] = useState(false); \n  const [name, setName] = useState(); // File name.\n  const [numberOfFiles, setNumberOfFiles] = useState(); // Number of files.\n  const [size, setSize] = useState(); // File size.\n  const [price, setPrice] = useState(); // File Price.\n  const [fileExist, setFileExist] = useState(true); // Condition variable for file existance.\n  const [fileCid, setFileCid] = useState(); // Cid of file to down.\n  const [sellerAddress, setSellerAddress] = useState(); // File seller's Metamask address.\n  const [transactionHash, setTransactionHash] = useState(); // Hash for transaction to buy files.\n  let { shortlink } = useParams();\n  const { accountAddress, signature, isLoggedIn } = props;\n\n  useEffect(async () => {\n    if(accountAddress && signature && accountAddress.length > 0) {\n      // const signature = await sign(accountAddress, accountAddress);\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n      \n      await axios.request({\n        headers: { Authorization: AuthBearer },\n        method: 'get',\n        url: `https://p2d.crustcode.com/api/v1/shortLink/${shortlink}`\n      }).then(result => {\n        if(result.data.data.name) {\n          setName(result.data.data.name);\n          setPrice(result.data.data.price);\n          setSellerAddress(result.data.data.payment_address);\n          setFileCid(result.data.data.cid);\n          setFileExist(true);\n          setSize(result.data.data.options.size);\n          setNumberOfFiles(result.data.data.options.count);\n        }\n        else {\n          setFileExist(false);\n        }\n      }).catch(error => {\n        setFileExist(false);\n      });\n    }\n  }, [accountAddress, signature]);\n\n  useEffect(async () => {\n    if(transactionHash) {\n      const perSignData = `eth-${accountAddress}:${signature}`;\n      const base64Signature = window.btoa(perSignData);\n      const AuthBearer = `Bearer ${base64Signature}`;\n  \n      axios.request({\n        data: {\n          cid: fileCid,\n          hash: transactionHash\n        },\n        headers: { Authorization: AuthBearer },\n        method: 'post',\n        url: `https://p2d.crustcode.com/api/v1/buyFile`\n      }).then(result => {\n        if(result.data) {\n          if(result.data.data.status === true && result.data.data.result === 'success') {\n            setSuccess(true);\n            setLoading(false);\n          }\n        }\n        else {\n          setLoading(false);\n        }\n      }).catch(error => {\n        setLoading(false);\n      });\n    }\n  }, [transactionHash])\n\n  const clickPayButton = async () => {\n    if(accountAddress && signature) {\n      setLoading(true);\n\n      const web3 = new Web3(window.ethereum);\n\n      if(isLoggedIn) {\n        web3.eth.sendTransaction({\n          from: accountAddress,\n          to: sellerAddress,\n          value: Web3.utils.toWei(price.toString(), 'ether'),\n          chainId: '0x4'\n        })\n        .on('transactionHash', function(hash){\n        })\n        .on('receipt', function(receipt){\n        })\n        .on('confirmation', function(confirmationNumber, receipt){ \n          setTransactionHash(receipt.transactionHash);\n        })\n        .on('error', function(error) { setLoading(false) });\n      }\n      else {\n        setLoading(false);\n      }\n    }\n  }\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.card}>\n        {\n          isLoggedIn \n          ? \n          <React.Fragment>\n            {signature ? <React.Fragment>\n              {fileExist === true ? <div>\n                  <h2>{name}</h2>\n                  <p>{numberOfFiles} Files, {size}, {price} ETH</p>\n                  {loading && <p className={classes.msg}>Payment Processing... Please Wait</p>}\n                  {success ? <h3>Payment successful!</h3> : \n                    <Button \n                      className={loading === false ? classes.imgButton : classes.imgButtonDisabled} \n                      onClick={() => clickPayButton()} \n                      disabled={loading}>\n                        {`Pay ${price} ETH`}\n                    </Button> \n                  }\n              </div> : \n              <div>\n                <h2>File Does not exist.</h2>\n              </div>}\n              </React.Fragment> \n              :\n              <div>\n                <h2>You didn't sign from Metamask. Please check Metamask or refresh page.</h2>\n              </div>\n            }\n          </React.Fragment>\n          : <div>\n              <h2>You are not logged into Metamask. Please login first.</h2>\n            </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  signature: state.account.signature,\n  isLoggedIn: state.account.isLoggedIn\n});\n\nexport default connect(mapStateToProps, {  })(BuyFiles);","export const SET_ACCOUNT_ADDRESS = \"SET_ACCOUNT_ADDRESS\";\nexport const SET_ACCOUNT_SIGNATURE = \"SET_ACCOUNT_SIGNATURE\";\nexport const SET_IS_LOGGED_IN = \"SET_IS_LOGGED_IN\";\n\nexport function setAccountAddress(address) {\n    return dispatch => {\n        dispatch({\n            type: SET_ACCOUNT_ADDRESS,\n            address: address\n        });\n    };\n}\n\nexport function setAccountSignature(signature) {\n    return dispatch => {\n        dispatch({\n            type: SET_ACCOUNT_SIGNATURE,\n            signature: signature\n        });\n    };\n}\n\nexport function setIsLoggedIn(isLoggedIn) {\n    return dispatch => {\n        dispatch({\n            type: SET_IS_LOGGED_IN,\n            isLoggedIn: isLoggedIn\n        });\n    };\n}","import React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport logo from '../assets/logo.png';\nimport styled from 'styled-components';\nimport { Button } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport buttonImg from '../assets/button_third.png';\nimport { connect } from \"react-redux\";\nimport { setAccountAddress, setAccountSignature, setIsLoggedIn } from '../redux/actions/AccountActions';\nimport PropTypes from 'prop-types';\nimport { sign } from '../utils/sign';\n\nconst HeaderBar = styled.header`\n  width: 100%;\n  padding: 0.5em 2em;\n  display: flex;\n  height: 64px;\n  position: fixed;\n  align-items: center;\n  background-color: #FF8D00;\n  z-index: 1;\n  justify-content: space-between;\n`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  imgButton: {\n    backgroundImage: `url(${buttonImg})`, \n    backgroundRepeat: 'no-repeat', \n    backgroundSize: 'contain',\n    width: 150,\n    height: 40,\n    color: 'black !important',\n    textTransform: 'none !important',\n    marginRight: '4rem !important',\n    marginLeft: '-2rem !important'\n  },\n}));\n\nconst Header = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { setAccountAddress, setAccountSignature, setIsLoggedIn, accountAddress } = props;\n  \n  useEffect(async () => {\n    if(window.ethereum) {\n      const storedSignature = localStorage.getItem('signature');\n      if(storedSignature) {\n        await setAccountSignature(storedSignature);\n      }\n\n      const storedAddress = localStorage.getItem('address');\n      if(storedAddress) {\n        await setAccountAddress(storedAddress);\n      }\n      else {\n        window.ethereum\n        .request({ method: 'eth_accounts' })\n        .then(async (res) => {\n          if(res.length === 0) history.push('/');\n          else {\n            setAccountAddress(res[0]);\n            localStorage.setItem('address', res[0]);\n          }\n        })\n        .catch(console.error);\n      }\n\n      window.ethereum.on('accountsChanged', (accounts) => {\n        if(localStorage.getItem('address') !== accounts[0] && !document.hidden) {\n          localStorage.setItem('address', accounts[0]);\n          localStorage.removeItem('signature');\n          setAccountSignature(null);\n          setAccountAddress(accounts[0]);\n        }\n      });\n    }\n    else {\n      history.push('/');\n    }\n  }, []);\n\n  useEffect(async () => {\n    const storedSignature = localStorage.getItem('signature');\n    if(accountAddress && accountAddress.length > 0 && !storedSignature) {\n      updateSignature(accountAddress);\n    }\n  }, [accountAddress]);\n\n  const disconnect = () => {\n    localStorage.removeItem('address');\n    localStorage.removeItem('signature');\n    history.push('/');\n  }\n\n  const shortenAddress = address => address && address.length > 0 ? `${address.slice(0, 6)}...${address.substr(address.length - 8)}` : '';\n\n  const updateSignature = async (address) => {\n    const signature = await sign(address, address);\n    localStorage.setItem('signature', signature);\n    setAccountSignature(signature);\n    setIsLoggedIn(true);\n  }\n\n  return (\n    <HeaderBar>\n      <div className={classes.container}>\n        <div>\n            <img src={logo} alt=\"Xcelvations Logo\" height=\"40\" />\n        </div>\n        <div>\n            <p style={{fontSize: 20, fontWeight: 500, margin: '0px 0px 0px 10px' }}>Hello</p>\n            <p style={{fontSize: 15, fontWeight: 500, margin: '0px 0px 0px 10px' }}>{shortenAddress(accountAddress)}</p>\n        </div>\n      </div>\n      <div className={classes.container}>\n        <Button className={classes.imgButton} onClick={() => history.push('/my-account')}>My Account</Button>\n        <Button className={classes.imgButton} onClick={() => disconnect()}>Disconnect</Button>\n      </div>\n    </HeaderBar>\n  );\n};\n\nconst mapStateToProps = state => ({\n  accountAddress: state.account.address,\n  setAccountAddress: PropTypes.func.isRequired,\n  setAccountSignature: PropTypes.func.isRequired,\n});\n\nexport default connect(mapStateToProps, { setAccountAddress, setAccountSignature, setIsLoggedIn })(Header);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAAA+CAYAAAA/B2f5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgB7d3RbRpBEIDhcZQCXAJ04BK4DugguIKUYFEJ0IE74OjkSqCD5BYnKHlxblCIJufvk1bi4e6NXyudRrsPcV/Hca0C5qcbVx938imAcj7HP3A8HmO1WgX877qui77v497smFCQMKEgYUJBwoSChAkFCRMKEiYUJEwoKDtgsIjciN1jwDyt462HKc7jeo2EbJirce0C+Jp4dog7h3mxWCxSI3aPjzZO5mG9Xl/+/1Ocz+d4fU31ePUQOZtx7TabTex2Nk54zzAMsVwuLz/Htcy86+MPFCRMKEiYUJAwoSBhQkHChIKECQUJEwpqkz/HxPOLALLa6Fums0MLcxXAPbUwV4nnT9dZ2XbE5FRTZwXhI2sz4pmuDodD7Pf7y+9rmM59hb+rhZnp6nQ6XX/7+AMFCRMKEiYUJEwoSJhQkDChIGFCQcKEgoQJBV0nfzK35LaJhqenpwDel+mqnar3Uzu+8lskOb4S/uyX4yuztm3H7BMvtCl5WyXk9YlnhxZml3hhE65IgKwhcp35+AMVCRMKEiYUJEwoSJhQkDChIGFCQcKEgm666r3N/z0/P09+/uXlxZGXzMJ2u/1tpvU97ar3W9101XsktbM1HY/JHHRdlxpM/2GI5FXv2R2zH9f0rXLcLMO1CszTNt6CmyK9dWbDHMa1Tzz/JYTJPPWRG0xP8fEHChImFCRMKEiYUJAwoSBhQkHChIKECQXdNCub1caYgOnsmFDQd3W4Xrw9ifjpAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABICAYAAAB2tuKSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEjSURBVHgB7dzRScNAAIDhi3QJNxBcwWK7hEO6RBVnENzAMWoXKLmH8BPk+54PEn7uIcddbhkTXh/HdXDX5+9Y1sY8DBJCR4SOCB0ROiJ0ROiI0JHFYqRhRkeEjggdEToidEToiNARoSNCR4SOCB0ROiJ0ROiI0BGhI0JHDjODPt4vg/tOb+fVMWZ0ROiI0BGhI0JHhI4IHRE6sly/LtmRsOW4/mF/e5+xhfJZM8zoiNARoSNCR4SOCB0ROiJ0ZOoflqkdlp/v9TFPz2NXNnpnOyw7InRE6IjQEaEjQkeEjggdOczccHWzvgszsxh5OY3/yC1hOyJ0ROiI0BGhI0JHhI4IHZlZrEwpj5aVluN5k0ZmdEToiNARoSNCR4SOCB0ROvIHYlsi3iyJnsEAAAAASUVORK5CYII=\"","import React from 'react';\nimport Header from './Header';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router-dom';\nimport FooterImg from '../assets/footer.png';\nimport { makeStyles } from '@mui/styles';\n\n// component styles\nconst Wrapper = styled.div`\n        display: flex;\n        top: 64px;\n        position: relative;\n        height: calc(100% - 64px);\n        width: 100%;\n        flex: auto;\n        flex-direction: column;\n`;\nconst Main = styled.main`\n    position: fixed;\n    height: calc(100% - 64px);\n    width: 100%;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    @media (min-width: 700px) {\n        flex: 1;\n        height: calc(100% - 64px);\n        width: 100%;\n    }\n`;\nconst hide_header_routes = [\n    '/'\n  ];\n\nconst useStyles = makeStyles(theme => ({\n    homeBackground: {\n        backgroundImage: `url(${FooterImg})`, \n        backgroundRepeat: 'no-repeat', \n        backgroundSize: 'contain', \n        backgroundPosition: 'bottom'\n    },\n}));\n\nconst Layout = ({ children }) => {\n    const location = useLocation();\n    const classes = useStyles();\n    return (\n        <React.Fragment>\n            {hide_header_routes.indexOf(location.pathname) > -1 ? null : <Header />}\n            <Wrapper>\n                <Main className={hide_header_routes.indexOf(location.pathname) > -1 ? classes.homeBackground : null}>{children}</Main>\n            </Wrapper>\n        </React.Fragment>\n    );\n};\n\nexport default Layout;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABZ0AAACQCAIAAADsjVIdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABGhJREFUeNrs2suNg0AQQEFmU5rQiIPQiIm9OQFGFg9X3Y3azUfoiXEd2x1j35a4OYZ5zGMeazGPedzm1mIe85jHPOYxj3l+8DXjbwMAAABo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKjSNQAAAIAqXQMAAACo0jUAAACAKl0DAAAAqNI1AAAAgCpdAwAAAKgaN39/HYvm2NccxzzmMc/yeazFPG/ifFmLeTx2PHbM4/oxj3le9prhew0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBqPGSO61j0f3bzfGOep7EfXDb2Ay5j+7Ef+8H5sp/f5HsNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgalgBfFzHovtqt0sAwNsOuL/cX9/gew0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBK1wAAAACqdA0AAACgStcAAAAAqnQNAAAAoErXAAAAAKp0DQAAAKBqvPWPzTmXHOc8T1eJ8wV47HjsAHg+4/rhmefL9xoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAEDVmHMuOdB5nkuO87R5nsb5wvmyH1w29oPXDPO4fuwH58t+PnyvAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVOkaAAAAQJWuAQAAAFTpGgAAAECVrgEAAABU6RoAAABAla4BAAAAVP0LMABER89A3Pg2ZQAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Home from './home';\nimport SellMyFiles from './sellMyFiles';\nimport BrowseFiles from './browserFiles';\nimport MyAccount from './myAccount';\nimport BuyFiles from './buyFiles';\nimport Layout from '../components/Layout';\nimport Web3 from 'web3';\nimport { setIsLoggedIn } from '../redux/actions/AccountActions';\n\nconst Webpages = (props) => {\n  const { setIsLoggedIn } = props;\n\n  useEffect(() => {\n    if(window.ethereum) {\n      window.ethereum\n      .request({ method: 'eth_accounts' })\n      .then((res) => {\n        if(res.length > 0) setIsLoggedIn(true);\n        else setIsLoggedIn(false);\n      })\n      .catch(console.error);\n    }\n  }, [window.ethereum])\n\n  return(\n      <Router>\n        <Layout>\n          <Route exact path=\"/\" component= {Home} />\n          <Route path = \"/sell-my-files\" component = {SellMyFiles} />\n          <Route path = \"/browse-files\" component = {BrowseFiles} />\n          <Route path = \"/my-account\" component = {MyAccount} />\n          <Route path = \"/buy-files/:shortlink\" component = {BuyFiles} />\n        </Layout>\n      </Router>\n  );\n};\n\nexport default connect(null, { setIsLoggedIn })(Webpages);","import {\n    SET_ACCOUNT_ADDRESS, SET_ACCOUNT_SIGNATURE, SET_IS_LOGGED_IN,\n} from \"../actions/AccountActions\";\n\nconst initialState = {\n    address: [],\n    signature: null,\n    isLoggedIn: true,\n};\n\nconst AccountReducer = function(state = initialState, action) {\n    switch (action.type) {\n        case SET_ACCOUNT_ADDRESS: {\n            return {\n                ...state,\n                address: action.address\n            };\n        }\n        case SET_ACCOUNT_SIGNATURE: {\n            return {\n                ...state,\n                signature: action.signature\n            }\n        }\n        case SET_IS_LOGGED_IN: {\n            return {\n                ...state,\n                isLoggedIn: action.isLoggedIn\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nexport default AccountReducer;","import { combineReducers } from \"redux\";\nimport AccountReducer from \"./AccountReducer\";\n\nconst RootReducer = combineReducers({\n  account: AccountReducer,\n});\n\nexport default RootReducer;\n","import thunk from \"redux-thunk\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport RootReducer from \"./reducers/RootReducer\";\n\nconst initialState = {};\nconst middlewares = [thunk];\nlet devtools = x => x;\n\nif (\n  process.env.NODE_ENV !== \"production\" &&\n  process.browser &&\n  window.__REDUX_DEVTOOLS_EXTENSION__\n) {\n  devtools = window.__REDUX_DEVTOOLS_EXTENSION__();\n}\n\nexport const Store = createStore(\n  RootReducer,\n  initialState,\n  compose(applyMiddleware(...middlewares), devtools)\n);\n","const MockAdapter = require('axios-mock-adapter');\nconst axios = require('axios');\nconst Mock = new MockAdapter(axios);\nexport default Mock;","import Mock from \"../mock\";\n\nconst fileDB = {\n  files: [\n    {\n      id: \"lkfjdfjdsjdslgkfjdskjfds\",\n      name: \"+ \",\n      numberOfFiles: 2,\n      size: 1.9,\n      price: 0.1\n    },\n    {\n      id: \"fkjjirewoigkjdhvkcxyhuig\",\n      name: \"+ \",\n      numberOfFiles: 1,\n      size: 0.5,\n      price: 0.2\n    },\n    {\n      id: \"fdskjkljicuviosduisjd\",\n      name: \"+ \",\n      numberOfFiles: 7,\n      size: 5.9,\n      price: 0.5\n    },\n    {\n      id: \"fdskfjdsuoiucrwevbgd\",\n      name: \"+ \",\n      numberOfFiles: 3,\n      size: 1.5,\n      price: 0.2\n    }\n  ]\n};\n\nMock.onGet(\"/api/files\").reply(config => {\n  const id = config.data;\n  const response = fileDB.files.find(file => file.id === id);\n  return [200, response];\n});","import Mock from \"./mock\";\n\nimport \"./db/sellItem\";\n\nMock.onAny().passThrough();","import './App.css';\nimport Webpages from './webpages';\nimport { Provider as StoreProvider } from \"react-redux\";\nimport { Store } from \"./redux/Store\";\nimport \"./utils/mock-db\";\n\nfunction App() {\n  return (\n    <div>\n      <StoreProvider store={Store}>\n        <Webpages />\n      </StoreProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n process.env.REACT_APP_ENV === 'development' ? <React.StrictMode>\n    <App />\n  </React.StrictMode> : <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}